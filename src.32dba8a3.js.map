{"version":3,"sources":["js/timer.js","index.js"],"names":["refs","body","document","querySelector","data","start","timerBox","formBox","CountdownTimer","constructor","setTime","selector","time","targetDate","getTime","timerRefs","days","hours","mins","secs","started","timerId","changeTime","newValue","Date","now","updateTime","currentTime","pad","Math","floor","getValue","innerHTML","clearInterval","value","String","padStart","setInterval","timer","classList","remove","add","setAttribute","valueAsNumber","addEventListener","changeData","removeAttribute","removeEventListener"],"mappings":";;;AAAA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,QAC7BC,KAAMF,SAASC,cAAc,uBAC7BE,MAAOH,SAASC,cAAc,yBAC9BG,SAAUJ,SAASC,cAAc,eACjCI,QAASL,SAASC,cAAc,cAGlC,MAAMK,EACJC,YAAYC,GACJC,MAAAA,EAAWD,EAAQC,SACnBC,EAAOF,EAAQG,WAAWC,UAC1BC,EAAY,CAChBC,KAAMd,SAASC,iBAAiBQ,KAAYR,cAAc,uBAC1Dc,MAAOf,SAASC,iBAAiBQ,KAAYR,cAAc,wBAC3De,KAAMhB,SAASC,iBAAiBQ,KAAYR,cAAc,uBAC1DgB,KAAMjB,SAASC,iBAAiBQ,KAAYR,cAAc,wBAExDiB,IAAAA,GAAU,EACVC,EAAU,KACVC,EAAa,KASRC,SAAAA,IACHC,KAAKC,MAAQb,EAcVc,SAAWC,GAEZX,MAAAA,EAAOY,EAAIC,KAAKC,MAAMH,EAAe,QACrCV,EAAQW,EAAIC,KAAKC,MAAOH,EAAe,MAAyB,OAChET,EAAOU,EAAIC,KAAKC,MAAOH,EAAe,KAAoB,MAC1DR,EAAOS,EAAIC,KAAKC,MAAOH,EAAe,IAAc,OAGnDI,SAASf,EAAMC,EAAOC,EAAMC,GACnCJ,EAAUC,KAAKgB,UAAYhB,EAC3BD,EAAUE,MAAMe,UAAYf,EAC5BF,EAAUG,KAAKc,UAAYd,EAC3BH,EAAUI,KAAKa,UAAYb,EAN3BY,CAASf,EAAMC,EAAOC,EAAMC,GAjB1BO,CAFAJ,EAAaV,EAAOY,KAAKC,QAK3BQ,cAAcZ,GACdD,GAAU,GAIHQ,SAAAA,EAAIM,GACJC,OAAAA,OAAOD,GAAOE,SAAS,EAAG,MArB1B/B,WACH,IAACe,EACHC,EAAUgB,YAAYd,EAAU,KAChCH,GAAU,EAmCdf,IAIJ,SAASiC,IACHlB,IAAAA,GAAU,EAgBLf,SAAAA,IACFe,IACHA,GAAU,EACVpB,EAAKM,SAASiC,UAAUC,OAAO,WAC/BxC,EAAKO,QAAQgC,UAAUE,IAAI,WAC3BzC,EAAKK,MAAMqC,aAAa,YAAY,GAEhClC,IAAAA,EAAe,CACjBG,SAAU,WACVE,WAAY,IAAIW,KAAKxB,EAAKI,KAAKuC,kBAvBrC3C,EAAKI,KAAKwC,iBAAiB,SAElBC,WAEHrB,GAAAA,KAAKC,MAAQzB,EAAKI,KAAKuC,cAIzB,OAFA3C,EAAKK,MAAMyC,gBAAgB,iBAC3B9C,EAAKK,MAAMuC,iBAAiB,QAASvC,GAGvCL,EAAKK,MAAMqC,aAAa,YAAY,GACpC1C,EAAKK,MAAM0C,oBAAoB,QAAS1C,KAmBxCL,EAAKK,MAAMqC,aAAa,YAAY,GAMxCJ;;ACrGA,aADA,QAAA,oBACA,QAAA","file":"src.32dba8a3.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  body: document.querySelector('body'),\n  data: document.querySelector('[data-value=\"data\"]'),\n  start: document.querySelector('[data-action=\"start\"]'),\n  timerBox: document.querySelector('.timer__box'),\n  formBox: document.querySelector('.form-box'),\n};\n\nclass CountdownTimer {\n  constructor(setTime) {\n    const selector = setTime.selector;\n    const time = setTime.targetDate.getTime();\n    const timerRefs = {\n      days: document.querySelector(`${selector}`).querySelector('[data-value=\"days\"]'),\n      hours: document.querySelector(`${selector}`).querySelector('[data-value=\"hours\"]'),\n      mins: document.querySelector(`${selector}`).querySelector('[data-value=\"mins\"]'),\n      secs: document.querySelector(`${selector}`).querySelector('[data-value=\"secs\"]'),\n    };\n    let started = false; //started timer\n    let timerId = null;\n    let changeTime = null;\n    function start() {\n      if (!started) {\n        timerId = setInterval(newValue, 1000);\n        started = true;\n        return;\n      }\n    }\n\n    function newValue() {\n      if (Date.now() < time) {\n        changeTime = time - Date.now();\n        // console.log(changeTime); //==============change time\n        updateTime(changeTime);\n        return;\n      }\n      clearInterval(timerId);\n      started = false;\n      // console.log('timer-stop', `${time}`);\n      return;\n    }\n    function pad(value) {\n      return String(value).padStart(2, '0');\n    }\n    function updateTime(currentTime) {\n      //formatting UNIX time to dd.. hh mm ss\n      const days = pad(Math.floor(currentTime / (1000 * 60 * 60 * 24)));\n      const hours = pad(Math.floor((currentTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)));\n      const mins = pad(Math.floor((currentTime % (1000 * 60 * 60)) / (1000 * 60)));\n      const secs = pad(Math.floor((currentTime % (1000 * 60)) / 1000));\n      getValue(days, hours, mins, secs);\n    }\n    function getValue(days, hours, mins, secs) {\n      timerRefs.days.innerHTML = days;\n      timerRefs.hours.innerHTML = hours;\n      timerRefs.mins.innerHTML = mins;\n      timerRefs.secs.innerHTML = secs;\n    }\n\n    start();\n  }\n}\n\nfunction timer() {\n  let started = false; //is started\n\n  refs.data.addEventListener('change', changeData);\n\n  function changeData() {\n    //action to change data in form\n    if (Date.now() < refs.data.valueAsNumber) {\n      //comparing two dates(now and input)\n      refs.start.removeAttribute('disabled');\n      refs.start.addEventListener('click', start);\n      return;\n    }\n    refs.start.setAttribute('disabled', true);\n    refs.start.removeEventListener('click', start);\n  }\n\n  function start() {\n    if (!started) {\n      started = true;\n      refs.timerBox.classList.remove('is-hide');\n      refs.formBox.classList.add('is-hide');\n      refs.start.setAttribute('disabled', true);\n      //=========of class\n      new CountdownTimer({\n        selector: '#timer-1',\n        targetDate: new Date(refs.data.valueAsNumber),\n      });\n      //=========of class\n    }\n  }\n  function initPage() {\n    //start settings on download page\n    refs.start.setAttribute('disabled', true);\n  }\n\n  initPage(); //set start settings on download page\n}\n\ntimer(); //start script.\n","import './sass/main.scss';\nimport './js/timer.js';\n"]}